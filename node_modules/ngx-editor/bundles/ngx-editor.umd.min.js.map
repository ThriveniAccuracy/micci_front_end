{"version":3,"sources":["../../../node_modules/tslib/tslib.es6.js","ng://ngx-editor/lib/schema.ts","ng://ngx-editor/lib/prosemirror/helpers/isNodeActive.ts","ng://ngx-editor/lib/prosemirror/helpers/isMarkActive.ts","ng://ngx-editor/lib/prosemirror/commands/toggleBlockType.ts","ng://ngx-editor/lib/prosemirror/commands/toggleList.ts","ng://ngx-editor/lib/utils/icons/index.ts","ng://ngx-editor/lib/utils/icons/bold.ts","ng://ngx-editor/lib/utils/icons/italic.ts","ng://ngx-editor/lib/utils/icons/code.ts","ng://ngx-editor/lib/utils/icons/ordered_list.ts","ng://ngx-editor/lib/utils/icons/bullet_list.ts","ng://ngx-editor/lib/utils/icons/arrowDropDown.ts","ng://ngx-editor/lib/utils/flatDeep.ts","ng://ngx-editor/lib/prosemirror/plugins/menu/meta.ts","ng://ngx-editor/lib/prosemirror/plugins/menu/menu.ts","ng://ngx-editor/lib/prosemirror/plugins/menu/MenuBarView.ts","ng://ngx-editor/lib/prosemirror/plugins/menu/index.ts","ng://ngx-editor/lib/prosemirror/plugins/placeholder.ts","ng://ngx-editor/lib/ngx-editor.service.ts","ng://ngx-editor/lib/ngx-editor.component.ts","ng://ngx-editor/lib/ngx-editor.module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","listItem","assign","schemaList.listItem","content","orderedList","schemaList.orderedList","group","bulletList","schemaList.bulletList","nodes","schemaBasic.nodes","list_item","ordered_list","bullet_list","schema","Schema","marks","schemaBasic.marks","isNodeActive","state","type","attrs","_a","selection","$from","to","node","findSelectedNodeOfType","findParentNode","n","entries","end","parent","hasMarkup","isMarkActive","from","empty","isInSet","storedMarks","doc","rangeHasMark","toggleBlockType","toggleType","dispatch","setBlockType","toggleList","itemType","liftListItem","wrapInList","icons","bold","italic","code","arrow_drop_down","getIconSvg","name","width","height","flatDeep","arr","reduce","acc","val","concat","Array","isArray","slice","menuItemsMeta","i18nKey","icon","h1","level","h2","h3","h4","h5","h6","DROPDOWN_ITEMS","Map","set","isListItem","DropDownView","dropdownGroup","dropdownFields","editorView","options","this","updates","prototype","getWrapperDom","_this","isDropdownOpen","dropdownWrapper","document","createElement","labels","classList","add","MENU_ITEM_CLASSNAME","dropdown","dropdownText","textContent","dropdownIcon","innerHTML","appendChild","mouseDownHandler","e","preventDefault","contains","closeDropdown","remove","window","removeEventListener","addEventListener","dropdownList","forEach","dropdownItem","menuItem","text","spec","classNames","title","MenuItemView","render","update","dom","push","selectedClass","activeEl","getElementsByClassName","el","getDom","setupCommandListeners","isActive","toggle","div","className","obj","setAttribute","buttons","command","heading","paragraph","toggleMark","getSeperatorDom","MenuBarView","view","menuDom","toolbar","toolbarIndex","isLastMenuGroup","toolbarItem","menuIndex","isLastMenuItem","keys","has","rendered","console","warn","seperatorDom","combinedUpdates","Infinity","renderMenu","updateMenuItems","parentNode","insertBefore","DEFAULT_OPTIONS","italics","menu","Plugin","PluginKey","menuPlugin","placeholderPlugin","props","decorations","childCount","firstChild","isTextblock","size","placeHolderEl","DecorationSet","create","Decoration","widget","NgxEditorServiceConfig","plugins","placeholder","Injectable","providedIn","NgxEditorService","config","paramIndex","decorator","Optional","provideMyServiceOptions","NgxEditorComponent","ngxEditorService","writeValue","value","updateContent","registerOnChange","fn","onChange","registerOnTouched","parseDoc","contentJson","nodeFromJSON","tr","replaceWith","err","error","handleTransactions","applyTransaction","updateState","docChanged","json","toJSON","createEditor","EditorView","ngxEditor","nativeElement","EditorState","dispatchTransaction","bind","attributes","class","ngOnInit","ngOnDestroy","destroy","ViewChild","static","NgxEditorComponent_1","Component","selector","template","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","encapsulation","ViewEncapsulation","None","NGX_EDITOR_CONFIG_TOKEN","InjectionToken","NgxEditorModule","forRoot","ngModule","NgxEditorModule_1","useValue","useFactory","deps","NgModule","declarations","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Schema } from 'prosemirror-model';\nimport * as schemaBasic from 'prosemirror-schema-basic';\nimport * as schemaList from 'prosemirror-schema-list';\n\nconst listGroup = 'block';\n\nconst listItem = Object.assign({}, schemaList.listItem, { content: 'paragraph block*' });\nconst orderedList = Object.assign({}, schemaList.orderedList, { content: 'list_item+', group: listGroup });\nconst bulletList = Object.assign({}, schemaList.bulletList, { content: 'list_item+', group: listGroup });\n\nconst nodes = Object.assign(\n  {},\n  schemaBasic.nodes,\n  {\n    list_item: listItem,\n    ordered_list: orderedList,\n    bullet_list: bulletList\n  }\n);\n\nconst schema = new Schema({\n  marks: schemaBasic.marks,\n  nodes\n});\n\nexport default schema;\n","import { EditorState } from 'prosemirror-state';\nimport { NodeType, Node as ProsemirrorNode } from 'prosemirror-model';\nimport { findSelectedNodeOfType, findParentNode } from 'prosemirror-utils';\n\nexport const isNodeActive = (state: EditorState, type: NodeType, attrs = {}): boolean => {\n  const { $from, to } = state.selection;\n\n  const predicate = (n: ProsemirrorNode) => n.type === type;\n  const node = findSelectedNodeOfType(type)(state.selection) || findParentNode(predicate)(state.selection);\n\n  if (!Object.entries(attrs).length || !node) {\n    return !!node;\n  }\n\n  // check if heading is active\n  return to <= $from.end() && $from.parent.hasMarkup(type, attrs);\n};\n\nexport default isNodeActive;\n","import { EditorState } from 'prosemirror-state';\nimport { MarkType } from 'prosemirror-model';\n\nexport const isMarkActive = (state: EditorState, type: MarkType): boolean => {\n  const { from, $from, to, empty } = state.selection;\n\n  if (empty) {\n    return !!type.isInSet(state.storedMarks || $from.marks());\n  } else {\n    return state.doc.rangeHasMark(from, to, type);\n  }\n};\n\nexport default isMarkActive;\n","import { EditorState, Transaction } from 'prosemirror-state';\nimport { NodeType } from 'prosemirror-model';\nimport { setBlockType } from 'prosemirror-commands';\n\nimport isNodeActive from '../helpers/isNodeActive';\n\nexport const toggleBlockType = (type: NodeType, toggleType: NodeType, attrs = {}) => {\n  return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n    const isActive = isNodeActive(state, type, attrs);\n\n    if (isActive) {\n      return setBlockType(toggleType)(state, dispatch);\n    }\n\n    return setBlockType(type, attrs)(state, dispatch);\n  };\n};\n","import { EditorState, Transaction } from 'prosemirror-state';\nimport { NodeType } from 'prosemirror-model';\nimport { wrapInList, liftListItem } from 'prosemirror-schema-list';\n\nimport isNodeActive from '../helpers/isNodeActive';\n\nexport const toggleList = (type: NodeType, itemType: NodeType) => {\n  return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n    const isActive = isNodeActive(state, type);\n\n    if (isActive) {\n      return liftListItem(itemType)(state, dispatch);\n    }\n\n    return wrapInList(type)(state, dispatch);\n  };\n};\n","// Icons source: https://material.io/\n\nimport bold from './bold';\nimport italic from './italic';\nimport code from './code';\nimport orderedList from './ordered_list';\nimport bulletList from './bullet_list';\nimport arrowDropDown from './arrowDropDown';\n\nconst DEFAULT_ICON_HEIGHT = 20;\nconst DEFAULT_ICON_WIDTH = 20;\n\nconst icons = {\n  bold,\n  italic,\n  code,\n  ordered_list: orderedList,\n  bullet_list: bulletList,\n  arrow_drop_down: arrowDropDown\n};\n\n// Helper function to create menu icons\nexport function getIconSvg(name: string, width = DEFAULT_ICON_WIDTH, height = DEFAULT_ICON_HEIGHT) {\n  const path = icons[name] || '<path></path>';\n\n  return `\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    fill=\"black\"\n    height=${height}\n    width=${width}\n  >\n    ${path}\n  </svg>\n  `;\n}\n","/* tslint:disable */\n\nexport default `\n  <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\" />\n  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n`;\n","export default `\n  <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z\" />\n`;\n","export default `\n<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n<path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/>\n`;\n","export default `\n<path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\"/>\n<path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n`;\n","export default `\n<path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n<path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\"/>\n`;\n","export default `\n<path d=\"M7 10l5 5 5-5z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n`;\n","const flatDeep = (arr: any[], d = 1): any[] => {\n  return d > 0\n    ? arr.reduce((acc, val) => acc.concat(Array.isArray(val) ? flatDeep(val, d - 1) : val), [])\n    : arr.slice();\n};\n\nexport default flatDeep;\n","export interface MenuItemMeta {\n  key: string;\n  i18nKey: string;\n  icon?: string;\n  type: 'mark' | 'node';\n  attrs?: {\n    level?: number\n  };\n}\n\nconst menuItemsMeta: { [key: string]: MenuItemMeta } = {\n  bold: {\n    key: 'strong',\n    i18nKey: 'bold',\n    icon: 'bold',\n    type: 'mark',\n  },\n  italic: {\n    key: 'em',\n    i18nKey: 'italics',\n    icon: 'italic',\n    type: 'mark',\n  },\n  code: {\n    key: 'code',\n    i18nKey: 'code',\n    icon: 'code',\n    type: 'mark',\n  },\n  ordered_list: {\n    key: 'ordered_list',\n    i18nKey: 'ordered_list',\n    icon: 'ordered_list',\n    type: 'node',\n  },\n  bullet_list: {\n    key: 'bullet_list',\n    i18nKey: 'bullet_list',\n    icon: 'bullet_list',\n    type: 'node',\n  },\n  h1: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 1,\n    },\n    type: 'node'\n  },\n  h2: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 2,\n    },\n    type: 'node'\n  },\n  h3: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 3,\n    },\n    type: 'node'\n  },\n  h4: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 4,\n    },\n    type: 'node'\n  },\n  h5: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 5,\n    },\n    type: 'node'\n  },\n  h6: {\n    key: 'heading',\n    i18nKey: 'heading',\n    attrs: {\n      level: 6,\n    },\n    type: 'node'\n  }\n};\n\nexport default menuItemsMeta;\n","import { toggleMark } from 'prosemirror-commands';\nimport { EditorView } from 'prosemirror-view';\nimport { EditorState } from 'prosemirror-state';\nimport { MarkType, NodeType } from 'prosemirror-model';\n\nimport {\n  MenuItemViewSpec,\n  ToolbarItem,\n  ToolbarDropdownGroupKeys,\n  ToolbarDropdownGroupValues,\n  MenuOptions\n} from '../../../types';\n\nimport schema from '../../../schema';\n\nimport isNodeActive from '../../helpers/isNodeActive';\nimport isMarkActive from '../../helpers/isMarkActive';\nimport { toggleList, toggleBlockType } from '../../commands';\n\nimport { getIconSvg } from '../../../utils/icons';\nimport flatDeep from '../../../utils/flatDeep';\n\nimport menuItemsMeta, {MenuItemMeta} from './meta';\n\nconst MENU_ITEM_CLASSNAME = 'NgxEditor-MenuItem';\n\nconst DROPDOWN_ITEMS = new Map();\nDROPDOWN_ITEMS.set('heading', ['h1', 'h2', 'h3', 'h4', 'h5', 'h6']);\n\nconst isListItem = (type: NodeType) => {\n  return (\n    type === schema.nodes.list_item ||\n    type === schema.nodes.ordered_list ||\n    type === schema.nodes.bullet_list\n  );\n};\n\nclass DropDownView {\n  private dropdownGroup: ToolbarDropdownGroupKeys;\n  private dropdownFields: ToolbarDropdownGroupValues;\n  private editorView: EditorView;\n  private options: MenuOptions;\n\n  dom: HTMLElement;\n\n  updates = [];\n\n  constructor(\n    dropdownGroup: ToolbarDropdownGroupKeys,\n    dropdownFields: ToolbarDropdownGroupValues,\n    editorView: EditorView,\n    options: MenuOptions\n  ) {\n    this.dropdownGroup = dropdownGroup;\n    this.dropdownFields = dropdownFields;\n    this.editorView = editorView;\n    this.options = options;\n  }\n\n  getWrapperDom(): HTMLElement {\n    let isDropdownOpen = false;\n    const dropdownWrapper = document.createElement('div');\n\n    const labels = this.options.labels;\n\n    dropdownWrapper.classList.add(MENU_ITEM_CLASSNAME);\n    dropdownWrapper.classList.add(`${MENU_ITEM_CLASSNAME}__Dropdown-Wrapper`);\n\n    // create dropdown content\n    const dropdown = document.createElement('div');\n    dropdown.classList.add(`${MENU_ITEM_CLASSNAME}__Dropdown`);\n\n    const dropdownText = document.createElement('div');\n    dropdownText.classList.add(`${MENU_ITEM_CLASSNAME}__Dropdown-Text`);\n    dropdownText.textContent = labels[this.dropdownGroup];\n\n    const dropdownIcon = document.createElement('div');\n    dropdownIcon.classList.add(`${MENU_ITEM_CLASSNAME}__Dropdown-Icon`);\n    dropdownIcon.innerHTML = getIconSvg('arrow_drop_down');\n\n    dropdown.appendChild(dropdownText);\n    dropdown.appendChild(dropdownIcon);\n\n    const dropdownOpenClassName = `${MENU_ITEM_CLASSNAME}__Dropdown-Wrapper-Open`;\n\n    const mouseDownHandler = (e: MouseEvent) => {\n      e.preventDefault();\n      if (!dropdownWrapper.contains(e.target as Node)) {\n        closeDropdown();\n      }\n    };\n\n    const openDropdown = () => {\n      dropdownWrapper.classList.add(dropdownOpenClassName);\n      isDropdownOpen = true;\n      window.addEventListener('mousedown', mouseDownHandler);\n    };\n\n    const closeDropdown = () => {\n      dropdownWrapper.classList.remove(dropdownOpenClassName);\n      isDropdownOpen = false;\n      window.removeEventListener('mousedown', mouseDownHandler);\n    };\n\n    dropdown.addEventListener('click', (e: MouseEvent) => {\n      e.preventDefault();\n      if (!isDropdownOpen) {\n        openDropdown();\n      } else {\n        closeDropdown();\n      }\n    });\n\n    // create dropdown list\n    const dropdownList = document.createElement('div');\n    dropdownList.classList.add(`${MENU_ITEM_CLASSNAME}__Dropdown-Menu`);\n\n    this.dropdownFields.forEach(dropdownItem => {\n      const menuItem = menuItemsMeta[dropdownItem];\n\n      let text = labels[menuItem.key];\n\n      if (menuItem.key === 'heading') {\n        text += ` ${menuItem.attrs.level}`;\n      }\n\n      const spec: MenuItemViewSpec = {\n        classNames: [\n          `${MENU_ITEM_CLASSNAME}__Dropdown-Item`\n        ],\n        textContent: text,\n        attrs: {\n          title: text\n        }\n      };\n\n      const menuItemView = new MenuItemView(menuItem, this.editorView, spec);\n      const { update, dom } = menuItemView.render();\n\n      // remove open class once clicked on dropdown value\n      dom.addEventListener('click', (e: MouseEvent) => {\n        e.preventDefault();\n        closeDropdown();\n      });\n\n      // wrapper to execute when update is called\n      const dropUpdate = (state: EditorState) => {\n        update(state);\n\n        const selectedClass = `${MENU_ITEM_CLASSNAME}__Dropdown-Wrapper-Selected`;\n\n        // update the dropdown content heading when a class is selected\n        const activeEl = dropdownList.getElementsByClassName(`${MENU_ITEM_CLASSNAME}__Active`);\n        if (activeEl.length) {\n          const el = activeEl[0];\n          dropdownText.textContent = el.textContent;\n          dropdownWrapper.classList.add(selectedClass);\n        } else {\n          // restore default value\n          dropdownText.textContent = labels[this.dropdownGroup];\n          dropdownWrapper.classList.remove(selectedClass);\n        }\n      };\n\n      dropdownList.appendChild(dom);\n      this.updates.push(dropUpdate);\n    });\n\n    dropdownWrapper.appendChild(dropdown);\n    dropdownWrapper.appendChild(dropdownList);\n\n    return dropdownWrapper;\n  }\n\n  render() {\n    this.dom = this.getWrapperDom();\n\n    return {\n      dom: this.dom,\n      updates: this.updates\n    };\n  }\n}\n\nclass MenuItemView {\n  private menuItem: MenuItemMeta;\n  private editorView: EditorView;\n  private spec: MenuItemViewSpec;\n\n  dom: HTMLElement;\n\n  constructor(menuItem: MenuItemMeta, editorView: EditorView, spec: MenuItemViewSpec) {\n    this.menuItem = menuItem;\n    this.editorView = editorView;\n    this.spec = spec;\n  }\n\n  render() {\n    const dom = this.dom = this.getDom();\n    this.setupCommandListeners();\n\n    const update = (state: EditorState): void => {\n      const menuItem = this.menuItem;\n      let isActive = false;\n\n      if (menuItem.type === 'mark') {\n        const type: MarkType = schema.marks[menuItem.key];\n        isActive = isMarkActive(state, type);\n      }\n\n      if (menuItem.type === 'node') {\n        const type: NodeType = schema.nodes[menuItem.key];\n        isActive = isNodeActive(state, type, menuItem.attrs);\n      }\n\n      dom.classList.toggle(`${MENU_ITEM_CLASSNAME}__Active`, isActive);\n    };\n\n    return {\n      dom,\n      update\n    };\n  }\n\n  getDom(): HTMLElement {\n    const div = document.createElement('div');\n\n    if (this.spec.classNames) {\n      this.spec.classNames.forEach(className => {\n        div.classList.add(className);\n      });\n    }\n\n    if (this.spec.attrs) {\n      Object.entries(this.spec.attrs).forEach(obj => {\n        div.setAttribute(obj[0], obj[1]);\n      });\n    }\n\n    if (this.spec.innerHTML) {\n      div.innerHTML = this.spec.innerHTML;\n    }\n\n    if (this.spec.textContent) {\n      div.innerHTML = this.spec.textContent;\n    }\n\n    return div;\n  }\n\n  private setupCommandListeners() {\n    this.dom.addEventListener('mousedown', (e: MouseEvent) => {\n      e.preventDefault();\n\n      // don't execute if not left click\n      if (e.buttons !== 1) {\n        return;\n      }\n\n      if (this.menuItem.type === 'mark') {\n        const command = toggleMark(schema.marks[this.menuItem.key]);\n        command(this.editorView.state, this.editorView.dispatch);\n        return;\n      }\n\n      if (this.menuItem.type === 'node') {\n        const type = schema.nodes[this.menuItem.key];\n\n        if (isListItem(type)) {\n          const command = toggleList(type, schema.nodes.list_item);\n          command(this.editorView.state, this.editorView.dispatch);\n          return;\n        }\n\n        if (type === schema.nodes.heading) {\n          const command = toggleBlockType(type, schema.nodes.paragraph, { level: this.menuItem.attrs.level });\n          command(this.editorView.state, this.editorView.dispatch);\n          return;\n        }\n      }\n    });\n  }\n}\n\nconst getSeperatorDom = (): HTMLElement => {\n  const div = document.createElement('div');\n  div.className = `${MENU_ITEM_CLASSNAME}__Seperator`;\n  return div;\n};\n\nexport const renderMenu = (options: MenuOptions, editorView: EditorView, menuDom: HTMLElement) => {\n  const updates: any[] = [];\n\n  const toolbar = options.toolbar;\n\n  toolbar.forEach((group: ToolbarItem[], toolbarIndex: number): void => {\n    const isLastMenuGroup = toolbar.length - 1 === toolbarIndex;\n\n    group.forEach((toolbarItem: ToolbarItem, menuIndex: number): void => {\n      const isLastMenuItem = group.length - 1 === menuIndex;\n\n      // render dropdown\n      if (typeof toolbarItem === 'object') {\n        Object.keys(toolbarItem).forEach((dropdownGroup: ToolbarDropdownGroupKeys) => {\n          if (DROPDOWN_ITEMS.has(dropdownGroup)) {\n            const dropdown: ToolbarDropdownGroupValues = toolbarItem[dropdownGroup];\n\n            const dropdownView = new DropDownView(dropdownGroup, dropdown, editorView, options);\n            const rendered = dropdownView.render();\n            updates.push(rendered.updates);\n            menuDom.appendChild(rendered.dom);\n          } else {\n            console.warn('Unkown dropdown group:', dropdownGroup);\n          }\n        });\n      }\n\n      // render Icons\n      if (typeof toolbarItem === 'string') {\n        const menuItem = menuItemsMeta[toolbarItem];\n\n        const labels = options.labels;\n\n        if (menuItem) {\n          const spec: MenuItemViewSpec = {\n            classNames: [\n              MENU_ITEM_CLASSNAME,\n              `${MENU_ITEM_CLASSNAME}__Icon`,\n              `${MENU_ITEM_CLASSNAME}__${menuItem.key}`\n            ],\n            innerHTML: getIconSvg(menuItem.icon),\n            attrs: {\n              title: labels[menuItem.i18nKey]\n            }\n          };\n\n          const menuItemView = new MenuItemView(menuItem, editorView, spec);\n          const { update, dom } = menuItemView.render();\n\n          menuDom.appendChild(dom);\n          updates.push(update);\n        }\n      }\n\n      if (isLastMenuItem && !isLastMenuGroup) {\n        const seperatorDom = getSeperatorDom();\n        menuDom.appendChild(seperatorDom);\n      }\n    });\n  });\n\n  const combinedUpdates = flatDeep(updates, Infinity);\n\n  return {\n    update(state: EditorState) {\n      combinedUpdates.forEach((update: (state: EditorState) => void) => {\n        update(state);\n      });\n    }\n  };\n};\n","import { EditorView } from 'prosemirror-view';\nimport { EditorState } from 'prosemirror-state';\n\nimport { MenuOptions } from '../../../types';\n\nimport { renderMenu } from './menu';\n\nclass MenuBarView {\n  options: MenuOptions;\n  view: EditorView;\n\n  dom: HTMLElement;\n\n  updateMenuItems: (state: EditorState) => void;\n\n  constructor(editorView: EditorView, options: MenuOptions) {\n    // const menu = getMenu(toolbar);\n    this.view = editorView;\n    this.options = options;\n\n    this.render();\n    this.update();\n  }\n\n  render() {\n    const menuDom = document.createElement('div');\n    menuDom.className = 'NgxEditor-MenuBar';\n\n    const { update } = renderMenu(this.options, this.view, menuDom);\n    this.updateMenuItems = update;\n\n    this.view.dom.parentNode.insertBefore(menuDom, this.view.dom);\n  }\n\n  update() {\n    this.updateMenuItems(this.view.state);\n  }\n}\n\nexport default MenuBarView;\n","import { EditorView } from 'prosemirror-view';\nimport { Plugin, PluginKey } from 'prosemirror-state';\n\nimport { Toolbar, MenuLabels, MenuOptions } from '../../../types';\nimport MenuBarView from './MenuBarView';\n\nconst DEFAULT_TOOLBAR: Toolbar = [\n  ['bold', 'italic'],\n  ['code'],\n  ['ordered_list', 'bullet_list'],\n  [{ heading: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] }]\n];\n\nconst DEFAULT_LABELS: MenuLabels = {\n  bold: 'Bold',\n  italics: 'Italics',\n  code: 'Code',\n  ordered_list: 'Ordered List',\n  bullet_list: 'Bullet List',\n  heading: 'Heading'\n};\n\nconst DEFAULT_OPTIONS: MenuOptions = {\n  toolbar: DEFAULT_TOOLBAR,\n  labels: DEFAULT_LABELS\n};\n\nfunction menuPlugin(options: MenuOptions): Plugin {\n  return new Plugin({\n    key: new PluginKey('menu'),\n    view(editorView: EditorView): MenuBarView {\n      return new MenuBarView(editorView, options);\n    },\n  });\n}\n\nconst menu = (options: MenuOptions = DEFAULT_OPTIONS) => {\n  return menuPlugin(options);\n};\n\nexport default menu;\n","import { Plugin, EditorState, PluginKey } from 'prosemirror-state';\nimport { DecorationSet, Decoration } from 'prosemirror-view';\n\nconst DEFAULT_PLACEHOLDER = 'Type Here...';\n\nfunction placeholderPlugin(text: string = DEFAULT_PLACEHOLDER) {\n  return new Plugin({\n    key: new PluginKey('placeholder'),\n    props: {\n      decorations(state: EditorState) {\n        const doc = state.doc;\n\n        if (doc.childCount === 1 && doc.firstChild.isTextblock && doc.firstChild.content.size === 0) {\n          const placeHolderEl = document.createElement('span');\n          placeHolderEl.classList.add('NgxEditor-Placeholder');\n          placeHolderEl.textContent = text;\n          return DecorationSet.create(doc, [Decoration.widget(1, placeHolderEl)]);\n        }\n\n        return DecorationSet.empty;\n      }\n    }\n  });\n}\n\nexport default placeholderPlugin;\n","import { Injectable, Optional } from '@angular/core';\n\nimport { NgxEditorConfig } from './types';\n\nimport menu from './prosemirror/plugins/menu';\nimport placeholder from './prosemirror/plugins/placeholder';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxEditorServiceConfig {\n  public plugins = [\n    menu(),\n    placeholder()\n  ];\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxEditorService {\n  config: NgxEditorServiceConfig;\n\n  constructor(@Optional() config?: NgxEditorServiceConfig) {\n    this.config = config;\n  }\n}\n\nexport function provideMyServiceOptions(config?: NgxEditorConfig): NgxEditorConfig {\n  return (config);\n}\n","import {\n  Component, ViewChild, ElementRef,\n  Input, forwardRef, OnDestroy, OnInit, ViewEncapsulation\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { EditorState, Transaction } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { Node as ProsemirrorNode } from 'prosemirror-model';\n\nimport { NgxEditorService, NgxEditorServiceConfig } from './ngx-editor.service';\n\nimport schema from './schema';\n\n@Component({\n  selector: 'ngx-editor',\n  templateUrl: 'ngx-editor.component.html',\n  styleUrls: ['ngx-editor.component.scss'],\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => NgxEditorComponent),\n    multi: true\n  }],\n  encapsulation: ViewEncapsulation.None\n})\n\nexport class NgxEditorComponent implements ControlValueAccessor, OnInit, OnDestroy {\n  @ViewChild('ngxEditor', { static: true }) ngxEditor: ElementRef;\n\n  private view: EditorView;\n  private onChange: (value: object) => void;\n\n  private config: NgxEditorServiceConfig;\n\n  constructor(ngxEditorService: NgxEditorService) {\n    this.config = ngxEditorService.config;\n  }\n\n  writeValue(value: object | null) {\n    if (!value) {\n      return;\n    }\n\n    this.updateContent(value);\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(): void { }\n\n  private parseDoc(contentJson: object): ProsemirrorNode {\n    return schema.nodeFromJSON(contentJson);\n  }\n\n  private updateContent(value: object) {\n    try {\n      const doc = this.parseDoc(value);\n\n      const state = this.view.state;\n      const tr = state.tr;\n      tr.replaceWith(0, state.doc.content.size, doc);\n      this.view.dispatch(tr);\n    } catch (err) {\n      console.error('Unable to update document.', err);\n    }\n  }\n\n  private handleTransactions(tr: Transaction) {\n    const { state } = this.view.state.applyTransaction(tr);\n\n    this.view.updateState(state);\n\n    if (tr.docChanged) {\n      const json = state.doc.toJSON();\n      this.onChange(json);\n    }\n  }\n\n  createEditor() {\n    this.view = new EditorView(this.ngxEditor.nativeElement, {\n      state: EditorState.create({\n        schema,\n        plugins: this.config.plugins,\n      }),\n      dispatchTransaction: this.handleTransactions.bind(this),\n      attributes: {\n        class: 'NgxEditor-Content'\n      },\n    });\n  }\n\n  ngOnInit() {\n    this.createEditor();\n  }\n\n  ngOnDestroy() {\n    this.view.destroy();\n  }\n}\n","import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\n\nimport { NgxEditorComponent } from './ngx-editor.component';\n\nimport { NgxEditorServiceConfig, provideMyServiceOptions } from './ngx-editor.service';\nimport { NgxEditorConfig } from './types';\n\nconst NGX_EDITOR_CONFIG_TOKEN = new InjectionToken<NgxEditorConfig>('NgxEditorConfig');\n\n@NgModule({\n  declarations: [NgxEditorComponent],\n  exports: [NgxEditorComponent],\n})\n\nexport class NgxEditorModule {\n  static forRoot(config: NgxEditorConfig): ModuleWithProviders {\n\n    return {\n      ngModule: NgxEditorModule,\n      providers: [\n        {\n          provide: NGX_EDITOR_CONFIG_TOKEN,\n          useValue: config\n        },\n        {\n          provide: NgxEditorServiceConfig,\n          useFactory: provideMyServiceOptions,\n          deps: [NGX_EDITOR_CONFIG_TOKEN]\n        }\n      ]\n    };\n  }\n}\n"]}